(this.webpackJsonpioniumreact=this.webpackJsonpioniumreact||[]).push([[0],{50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(15),s=n.n(a),i=(n(50),n(51),n(4)),o=(n(52),n(3)),l=n(9),u=n.n(l),d=n(5),b=n(14),j=n(95),p=n(96),x={display:"flex",justifyContent:"center",margin:"15px"},O={display:"flex",flexDirection:"column",gap:"15px"},f={display:"flex",flexDirection:"row",gap:"10px",alignItems:"center"},h={display:"flex",flexDirection:"row",justifyContent:"space-between",gap:"10px",alignItems:"center"},m={backgroundColor:"transparent",outline:"none",border:"none",color:"white",fontSize:"14px"},g={backgroundColor:"transparent",outline:"none",border:"none",display:"flex",alignItems:"center",position:"relative",top:"3px"},v={backgroundColor:"transparent",outline:"none",border:"none",display:"flex",alignItems:"center",position:"relative"},y={color:"orange"},w={position:"relative",top:"1px"},I=n(0);function C(e){return Object(I.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"5px"},children:[e.validationError?Object(I.jsx)("p",{style:y,children:e.validationError}):Object(I.jsx)("p",{children:e.label}),Object(I.jsx)("input",{value:e.value,onChange:function(t){return e.updateInput(t.target.value)},type:e.inputType,placeholder:e.placeholder})]})}function S(e){return Object(I.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"5px",width:"100%"},children:[e.validationError?Object(I.jsx)("p",{style:y,children:e.validationError}):Object(I.jsx)("p",{children:e.label}),Object(I.jsx)("textarea",{style:{minHeight:"120px"},value:e.value,onChange:function(t){return e.updateInput(t.target.value)},placeholder:e.placeholder})]})}function k(e){return Object(I.jsx)("div",{style:x,children:Object(I.jsxs)("div",{style:N,className:"colorInput",children:[Object(I.jsxs)("div",{style:f,children:[Object(I.jsx)("button",{style:g,children:Object(I.jsx)(j.a,{})}),Object(I.jsx)(C,{inputType:"text",label:"",placeholder:"Search",value:e.searchString,updateInput:function(t){return e.onSearchStringChanged(t)},validationError:""})]}),Object(I.jsx)("button",{style:g,children:Object(I.jsx)(p.a,{})})]})})}var N={display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",maxWidth:"450px",borderRadius:"5px",transition:"1s",padding:"0 10px 5px 10px"},E=n(98),D=n(99),T=n(97),R=n(100);function _(e){return Object(I.jsx)("li",{children:Object(I.jsxs)("div",{style:h,className:"colorInput",children:[Object(I.jsxs)("div",{style:Object(o.a)(Object(o.a)({},f),{},{paddingLeft:"10px"}),children:[Object(I.jsx)("input",{type:"checkbox",checked:e.bullet.checked,onChange:function(t){return e.onChangeBulletCheckState(e.bullet.bulletID,t.currentTarget.checked)}}),Object(I.jsx)(C,{inputType:"text",label:"",placeholder:"Aa",value:e.bullet.bulletText,updateInput:function(t){return e.onUpdateSingleBullet(e.bullet.bulletID,t)},validationError:""})]}),Object(I.jsx)("button",{onClick:function(){return e.onDeleteSingleBullet(e.bullet.bulletID)},style:v,children:Object(I.jsx)(T.a,{})})]})})}var A=n(37),M=n.n(A);function P(e){var t=Object(r.useState)(e.bullets?Object(d.a)(e.bullets):[]),n=Object(i.a)(t,2),c=n[0],a=n[1];Object(r.useEffect)((function(){return e.onUpdatedBulletArray(c)}),[c]);var s=function(e,t){var n=c.map((function(n){return n.bulletID===e?Object(o.a)(Object(o.a)({},n),{},{checked:t}):n}));a(Object(d.a)(n))},l=function(e,t){var n=c.map((function(n){return n.bulletID===e?Object(o.a)(Object(o.a)({},n),{},{bulletText:t}):n}));a(Object(d.a)(n))},u=function(e){var t=c.filter((function(t){return t.bulletID!==e}));a(Object(d.a)(t))};return Object(I.jsxs)("div",{children:[Object(I.jsx)("button",{onClick:function(){a([].concat(Object(d.a)(c),[{bulletText:"",checked:!1,bulletID:Math.random()}]))},style:v,children:Object(I.jsx)(M.a,{})}),Object(I.jsx)("ul",{style:L,children:c.map((function(e){return Object(I.jsx)(_,{bullet:e,onChangeBulletCheckState:s,onUpdateSingleBullet:l,onDeleteSingleBullet:u},e.bulletID)}))})]})}var L={maxHeight:"300px",overflow:"auto"},U=n(38),B=n.n(U).a.create({baseURL:"https://isotopic.herokuapp.com/api",timeout:3e3,headers:{"Content-Type":"application/json"},withCredentials:!0}),W=function(e){return B.post("/note/create",{data:e})},q=n(11),z=n(16),F=Object(z.b)({name:"notification",initialState:{msg:"",type:"info"},reducers:{setNotification:function(e,t){e.msg=t.payload.msg,e.type=t.payload.type},clearNotification:function(e){e.msg="",e.type="info"}}}),G=F.actions,H=G.setNotification,J=G.clearNotification,Q=F.reducer;function Z(e){return e.response?e.response.data.message:e.request?"Request failed. Did you check your internet connection?":"The request failed"}function V(e){var t=Object(q.b)(),n={owner:Object(r.useContext)(Ee).username,title:"",content:"",bullets:[],_id:void 0,createdAt:void 0,updatedAt:void 0},c=Object(r.useState)(e.note?Object(o.a)({},e.note):Object(o.a)({},n)),a=Object(i.a)(c,2),s=a[0],l=a[1],j=function(){var r=Object(b.a)(u.a.mark((function r(){var c;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t(H({msg:"Saving note",type:"loading"})),console.log("Current note state",s),r.prev=2,r.next=5,W(s);case 5:c=r.sent,console.log(c),200===c.status&&(t(H({msg:"Note saved!",type:"success"})),e.onNoteCreated(c.data),l(Object(o.a)({},n))),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),t(H({msg:Z(r.t0),type:"error"}));case 13:case"end":return r.stop()}}),r,null,[[2,10]])})));return function(){return r.apply(this,arguments)}}(),p=function(){var r=Object(b.a)(u.a.mark((function r(){var c;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!s._id){r.next=14;break}return r.prev=1,r.next=4,a=s._id,B.delete("/note/delete",{params:{noteID:a}});case 4:200===(c=r.sent).status&&e.onNoteDeleted(c.data),console.log("__DELETION EVENT RESULT",c),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),t(H({msg:Z(r.t0),type:"error"}));case 12:r.next=15;break;case 14:l(Object(o.a)({},n));case 15:case"end":return r.stop()}var a}),r,null,[[1,9]])})));return function(){return r.apply(this,arguments)}}();return Object(I.jsx)("div",{style:x,children:Object(I.jsxs)("div",{style:$,className:"card",children:[Object(I.jsx)(C,{inputType:"text",label:"",placeholder:"Type here!",value:s.title,updateInput:function(e){return l(Object(o.a)(Object(o.a)({},s),{},{title:e}))},validationError:""}),s.title&&Object(I.jsxs)("div",{style:O,children:[Object(I.jsx)(S,{label:"",placeholder:"Content",value:s.content,updateInput:function(e){return l(Object(o.a)(Object(o.a)({},s),{},{content:e}))},validationError:""}),Object(I.jsx)("div",{className:"dark buttonCard",children:Object(I.jsxs)("div",{style:h,children:[Object(I.jsx)("button",{style:v,children:Object(I.jsx)(E.a,{})}),Object(I.jsx)("button",{style:v,children:Object(I.jsx)(D.a,{})}),Object(I.jsx)("button",{onClick:p,style:v,children:Object(I.jsx)(T.a,{})}),Object(I.jsx)("button",{onClick:j,style:v,children:Object(I.jsx)(R.a,{})})]})}),Object(I.jsx)(P,{bullets:s.bullets,onUpdatedBulletArray:function(e){return function(e){return l(Object(o.a)(Object(o.a)({},s),{},{bullets:Object(d.a)(e)}))}(e)}})]})]})})}var $={display:"flex",flexDirection:"column",gap:"10px",width:"100%",maxWidth:"500px",padding:"20px",borderRadius:"5px",transition:"1s"};function K(e){return Object(I.jsx)("li",{children:Object(I.jsxs)("div",{style:f,children:[Object(I.jsx)("input",{type:"checkbox",checked:e.bullet.checked,readOnly:!0}),Object(I.jsx)("p",{children:e.bullet.bulletText})]})})}function X(e){return Object(I.jsx)("div",{style:Y,children:Object(I.jsx)("div",{style:ee,children:Object(I.jsx)(V,{note:e.note,onNoteDeleted:function(t){e.onNoteDeleted(t),e.closeModal()},onNoteCreated:function(t){e.onNoteChanged(t),e.closeModal()}})})})}var Y={backgroundColor:"rgb(0,0,0,0.8)",width:"100%",height:"100%",position:"fixed",left:"0",top:"0"},ee={marginTop:"20%",marginLeft:"auto",marginRight:"auto"};function te(e){var t=Object(r.useState)({showModal:!1,noteInFocus:void 0}),n=Object(i.a)(t,2),c=n[0],a=n[1];return Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{style:x,children:Object(I.jsx)("div",{style:ne,children:e.noteList.map((function(t){return Object(I.jsxs)("div",{style:re,className:"cardColor",onClick:function(){return function(t){if(t){var n=e.noteList.find((function(e){return e._id===t}));n&&a({showModal:!0,noteInFocus:n})}}(t._id)},children:[Object(I.jsx)("p",{style:ce,children:t.title}),Object(I.jsx)("p",{children:t.content}),Object(I.jsx)("ul",{children:t.bullets.map((function(e){return Object(I.jsx)(K,{bullet:e},e.bulletID)}))})]},t._id)}))})}),!0===c.showModal&&Object(I.jsx)(X,{onNoteDeleted:e.onNoteDeleted,onNoteChanged:e.onNoteChanged,note:c.noteInFocus,closeModal:function(){return a({showModal:!1,noteInFocus:void 0})}})]})}var ne={display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",borderRadius:"5px",transition:"1s",gap:"8px",width:"100%",maxWidth:"800px"},re={display:"flex",flexDirection:"column",gap:"5px",width:"90%",border:"solid",borderWidth:"1px",borderColor:"rgb(255,255,255,0.2)",padding:"15px",borderRadius:"5px"},ce={fontWeight:"bolder"};function ae(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)([]),s=Object(i.a)(a,2),l=s[0],j=s[1],p=Object(r.useState)(""),x=Object(i.a)(p,2),O=x[0],f=x[1],h=Object(r.useContext)(Ee);Object(r.useEffect)((function(){m()}),[]);var m=function(){var e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n=h.username,B.get("/note/get",{params:{owner:n}});case 2:(t=e.sent).data&&c(Object(d.a)(t.data));case 4:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(e){c(n.filter((function(t){return t._id!==e._id})))};return Object(r.useEffect)((function(){j(n.filter((function(e){return e.title.includes(O)||e.content.includes(O)||e.bullets.find((function(e){return e.bulletText.includes(O)}))})))}),[O,n]),Object(I.jsxs)("div",{children:[Object(I.jsx)(k,{searchString:O,onSearchStringChanged:function(e){f(e)}}),Object(I.jsx)(V,{onNoteCreated:function(e){c([e].concat(Object(d.a)(n)))},onNoteDeleted:g}),Object(I.jsx)(te,{onNoteDeleted:g,noteList:l,onNoteChanged:function(e){c(n.map((function(t){return t._id===e._id?Object(o.a)({},e):t})))}})]})}function se(e){var t=e.username,n=e.password,r=e.email,c=new Map;(t&&t.length<5&&c.set("username","Username min. 5 characters."),n&&n.length<8&&c.set("password","Password min. 8 characters."),r)&&(new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/).test(r)||c.set("email","Email must be valid."));return c}function ie(e){var t=Object(q.b)(),n=Object(q.c)((function(e){return e.user.username})),c=Object(r.useState)({username:"",password:"",rememberSignIn:!1,type:"LOGIN"}),a=Object(i.a)(c,2),s=a[0],l=a[1],j=Object(r.useState)(new Map),p=Object(i.a)(j,2),h=p[0],g=p[1],v=function(){y();var e=se({username:s.username,password:s.password});return!(e.size>0)||(g(new Map(Object(d.a)(e))),!1)},y=function(){return g((function(e){return new Map(e.clear())}))},w=function(){var r=Object(b.a)(u.a.mark((function r(){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(n),r.prev=1,t(H({msg:"Signing in ".concat(s.username),type:"loading"})),r.next=5,c=s.username,a=s.password,B.post("/auth/signin/",{data:{username:c,password:a}});case 5:200===r.sent.status&&(t(H({msg:"Successful sign in!",type:"success"})),e.onSuccessfulSignIn(s.username)),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),t(H({msg:Z(r.t0),type:"warning"}));case 12:case"end":return r.stop()}var c,a}),r,null,[[1,9]])})));return function(){return r.apply(this,arguments)}}();return Object(I.jsx)("div",{style:x,children:Object(I.jsxs)("form",{action:"submit",onSubmit:function(e){e.preventDefault(),console.log("Inside submitCredentials"),v()?w():console.log("ui error")},className:"card",style:Object(o.a)(Object(o.a)({},O),{padding:"60px 60px 80px 60px"}),children:[Object(I.jsx)("h2",{children:"Login"}),Object(I.jsx)(C,{inputType:"text",label:"Username",value:s.username,updateInput:function(e){return l(Object(o.a)(Object(o.a)({},s),{},{username:e}))},validationError:h.get("username")}),Object(I.jsx)(C,{inputType:"password",label:"Password",value:s.password,updateInput:function(e){return l(Object(o.a)(Object(o.a)({},s),{},{password:e}))},validationError:h.get("password")}),Object(I.jsxs)("div",{style:f,children:[Object(I.jsx)("input",{type:"checkbox",value:s.rememberSignIn,onChange:function(e){return l(Object(o.a)(Object(o.a)({},s),{},{rememberSignIn:e.target.checked}))}}),Object(I.jsx)("label",{children:"Remember me"})]}),Object(I.jsx)("button",{type:"submit",children:"Sign in"}),Object(I.jsxs)("div",{style:f,children:[Object(I.jsx)("p",{children:"Don't have an account?"}),Object(I.jsx)("button",{style:m,onClick:function(t){t.preventDefault(),e.onNavigate()},children:"Sign up"})]})]})})}var oe=n(41),le=n.n(oe);function ue(e){var t=Object(r.useState)({username:"",password:"",email:"",type:"CREATEACCOUNT"}),n=Object(i.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(new Map),l=Object(i.a)(s,2),u=l[0],b=l[1],j=function(){p();var e=se({username:c.username,password:c.password,email:c.email});return!(e.size>0)||(b(new Map(Object(d.a)(e))),!1)},p=function(){return b((function(e){return new Map(e.clear())}))};return Object(I.jsx)("div",{style:x,children:Object(I.jsxs)("form",{action:"submit",onSubmit:function(e){e.preventDefault(),j()?console.log("Create account API not implemented."):console.log("ui error")},className:"card",style:Object(o.a)(Object(o.a)({},O),{padding:"60px 60px 80px 60px"}),children:[Object(I.jsxs)("button",{style:g,onClick:function(t){t.preventDefault(),e.onNavigate()},children:[Object(I.jsx)(le.a,{}),Object(I.jsx)("h3",{children:"Create account"})]}),Object(I.jsx)(C,{inputType:"text",label:"Username",value:c.username,updateInput:function(e){return a(Object(o.a)(Object(o.a)({},c),{},{username:e}))},validationError:u.get("username")}),Object(I.jsx)(C,{inputType:"password",label:"Password",value:c.password,updateInput:function(e){return a(Object(o.a)(Object(o.a)({},c),{},{password:e}))},validationError:u.get("password")}),Object(I.jsx)(C,{inputType:"email",label:"Email",value:c.email,updateInput:function(e){return a(Object(o.a)(Object(o.a)({},c),{},{email:e}))},validationError:u.get("email"),placeholder:"(optional)"}),Object(I.jsxs)("div",{style:f,children:[Object(I.jsx)("input",{type:"checkbox",required:!0}),Object(I.jsx)("label",{children:"I accept terms and conditions"})]}),Object(I.jsx)("button",{type:"submit",children:"Sign up"})]})})}var de="MODE_LOGIN",be="MODE_SIGNUP";function je(e){var t=Object(r.useState)({mode:de}),n=Object(i.a)(t,2),c=n[0],a=n[1],s=function(){switch(c.mode){case de:a({mode:be});break;case be:a({mode:de});break;default:a({mode:de})}};return Object(I.jsx)("div",{children:c.mode===de?Object(I.jsx)(ie,{onNavigate:s,onSuccessfulSignIn:function(t){e.signIn(t)}}):Object(I.jsx)(ue,{onNavigate:s})})}var pe=n(42),xe=n.n(pe),Oe=n(43),fe=n.n(Oe);function he(e){var t=Object(r.useState)(me.info),n=Object(i.a)(t,2),c=n[0],a=n[1];return Object(r.useEffect)((function(){e.type&&a(me[e.type])}),[e.type]),Object(I.jsx)("div",{style:ve,children:Object(I.jsxs)("div",{style:Object(o.a)(Object(o.a)({},ge),c),children:["loading"===e.type?Object(I.jsx)("div",{className:"spinner"}):Object(I.jsx)(xe.a,{}),Object(I.jsxs)("p",{children:[" ",e.message," "]}),Object(I.jsx)("button",{className:"btnIcon",onClick:e.dismissNotification,children:Object(I.jsx)(fe.a,{})})]})})}var me={error:{backgroundColor:"rgb(244, 67, 54)"},warning:{backgroundColor:"rgb(220, 130, 0)"},info:{backgroundColor:"rgb(33, 150, 243)"},loading:{backgroundColor:"rgb(33, 150, 243)"},success:{backgroundColor:"rgb(76, 175, 80)"}},ge={display:"flex",alignItems:"center",wordWrap:"break-word",justifyContent:"space-between",height:"45px",minWidth:"300px",color:"white",fontSize:"16px",fontWeight:"bold",paddingLeft:"20px",borderRadius:"5px",boxShadow:"3px 3px 5px rgb(0, 0, 0, 0.3)",transition:"0.5s"},ve={position:"fixed",left:"50%",bottom:"20%",transform:"translate(-50%, 0)"};function ye(){var e=Object(q.b)(),t=Object(q.c)((function(e){return e.notification}));return Object(r.useEffect)((function(){t.msg&&setTimeout((function(){e(J())}),2500)}),[t,e]),Object(I.jsx)("div",{children:t.msg&&Object(I.jsx)(he,{message:t.msg,type:t.type,dismissNotification:function(){return e(J())}})})}var we=n(44),Ie=n.n(we);function Ce(){var e=Object(r.useState)(!0),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){var e=document.body;console.log("inside useeffect"),n?e.classList.remove("lightTheme"):e.classList.add("lightTheme")}),[n]),Object(I.jsx)("div",{children:Object(I.jsxs)("label",{className:"switch",children:[Object(I.jsx)("input",{type:"checkbox",id:"chipBox",onChange:function(){return c(!n)},checked:n}),Object(I.jsx)("span",{className:"slider"})]})})}function Se(){return Object(I.jsxs)("div",{style:ke,className:"navigationBarTheme",children:[Object(I.jsxs)("div",{style:f,children:[Object(I.jsx)(Ie.a,{style:w}),Object(I.jsx)("h1",{children:"Ionium"})]}),Object(I.jsx)(Ce,{})]})}var ke={display:"flex",flexDirection:"row",justifyContent:"space-between",padding:"10px 20px 10px 20px",alignItems:"center"},Ne={username:"",authenticated:!1},Ee=c.a.createContext(Ne);var De=function(){var e=Object(r.useState)({username:"",authenticated:!1}),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(I.jsxs)("div",{className:"App",children:[Object(I.jsx)(Se,{}),n.authenticated?Object(I.jsx)(Ee.Provider,{value:n,children:Object(I.jsx)(ae,{})}):Object(I.jsx)(je,{signIn:function(e){c({username:e,authenticated:!0}),console.log("signing in user with username",e)}}),Object(I.jsx)(ye,{})]})},Te=Object(z.b)({name:"user",initialState:{authenticated:!1,username:"derp"},reducers:{signIn:function(e,t){e.authenticated=!0,e.username=t.payload.username},signOut:function(e){e.authenticated=!1,e.username="merp"}}}),Re=Te.actions,_e=(Re.signIn,Re.signOut,Te.reducer),Ae=Object(z.a)({reducer:{user:_e,notification:Q}});B.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),B.interceptors.response.use((function(e){return console.log("__RESPONSE Inside response interceptor__",e),e}),(function(e){return console.log("__RESPONSE Inside response interceptor ERROR__"),function(e){e.response?console.log("API_RESPONSE_ERROR","[data, status, headers]",e.response.data,e.response.status,e.response.headers):e.request?console.log("API_REQUEST_ERROR",e.request):console.log("API_APPLICATION_ERROR",e),console.log("REQUEST_CONFIGURATION",e.config)}(e),Promise.reject(e)})),s.a.render(Object(I.jsx)(q.a,{store:Ae,children:Object(I.jsx)(De,{})}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.3b4e3813.chunk.js.map